{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "clerk-middleware",
  "type": "registry:ui",
  "title": "Clerk Middleware",
  "description": "Clerk middleware for Next.js App Router with route protection",
  "dependencies": [
    "@clerk/nextjs"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/default/elements/clerk/middleware.ts",
      "content": "import { clerkMiddleware, createRouteMatcher } from \"@clerk/nextjs/server\";\n\nconst isPublicRoute = createRouteMatcher([\"/sign-in(.*)\", \"/sign-up(.*)\"]);\n\nexport default clerkMiddleware(async (auth, req) => {\n  if (!isPublicRoute(req)) {\n    await auth.protect();\n  }\n});\n\nexport const config = {\n  matcher: [\n    // Skip Next.js internals and all static files, unless found in search params\n    \"/((?!_next|[^?]*\\\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)\",\n    // Always run for API routes\n    \"/(api|trpc)(.*)\",\n  ],\n};\n",
      "type": "registry:lib",
      "target": "middleware.ts"
    }
  ],
  "docs": "Clerk middleware for Next.js App Router with route protection. Install in project root as middleware.ts."
}